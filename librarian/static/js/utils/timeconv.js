// Generated by CoffeeScript 1.10.0
(function(window, $) {
  return $.timeconv = function(subtree) {
    var time;
    if (subtree) {
      subtree = $(subtree);
    } else {
      subtree = $(document);
    }
    time = $('time', subtree);
    return time.each(function() {
      var dt, dtstr, e, elem, error, format;
      elem = $(this);
      format = elem.data('format');
      dtstr = elem.attr('datetime');
      try {
        dt = new Date(dtstr);
        if (format === 'date') {
          dt = dt.toLocaleDateString();
        } else {
          dt = dt.toLocaleString();
        }
      } catch (error) {
        e = error;
        dt = dtstr;
      }
      return elem.text(dt.toString());
    });
  };
})(this, this.jQuery);
