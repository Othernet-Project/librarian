// Generated by CoffeeScript 1.10.0
(function(window, $) {
  $.filteredDefaults = {
    selector: 'a',
    input: '#filter',
    getText: function(element) {
      return ($(element)).text().toLowerCase();
    }
  };
  return $.fn.filtered = function(options) {
    var elem, filtered, getText, index, input, selector;
    index = {};
    elem = $(this);
    if (options == null) {
      options = {};
    }
    options = $.extend({}, $.filteredDefaults, options);
    selector = options.selector, input = options.input, getText = options.getText;
    filtered = elem.find(selector);
    filtered.each(function() {
      var text;
      text = getText(this);
      return index[text] = this;
    });
    ($(input)).on('input', function() {
      var key, matches, val;
      val = ($(this)).val().toLowerCase();
      if (!val) {
        filtered.show();
        return;
      }
      filtered.hide();
      matches = [];
      for (key in index) {
        if ((key.indexOf(val)) > -1) {
          matches.push(index[key]);
        }
      }
      ($(matches)).show();
    });
    return elem;
  };
})(this, this.jQuery);
