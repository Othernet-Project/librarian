(function($){"use strict";var self={};self.timezoneSelected=function(){self.timezone.val($(this).val())};self.timezoneRegionSelected=function(){var selectedOpt=$(this),first=selectedOpt.val(),timezoneSelector;$("#second-level").remove();timezoneSelector=$("<select />").attr("id","second-level").append(function(){var options=[];$.each(self.tzOptions,function(i,opt){if(opt.value.substring(0,first.length)===first){var tzText=opt.value.replace(first+"/","").replace("_"," ").replace("_"," "),newOpt=$("<option />").val(opt.value).text(tzText);options.push(newOpt)}});self.timezone.val(options[0].val());return options}).on("change",self.timezoneSelected);self.timezoneContainer.append(timezoneSelector)};self.initTimezoneSelector=function(){var firstLevel=[],regionSelector;self.timezone.hide();$.each(self.tzOptions,function(i,option){var first=option.value.split("/")[0];if($.inArray(first,firstLevel)===-1){firstLevel.push(first)}});regionSelector=$("<select />").append(function(){return $.map(firstLevel,function(value){return $("<option />").val(value).text(value)})}).on("change",self.timezoneRegionSelected);self.timezoneContainer.append(regionSelector);self.timezoneRegionSelected.call(regionSelector)};$(".js-error").show();self.timezoneContainer=$(".timezone-container");self.timezone=$("#id_timezone");self.tzOptions=self.timezone.find("option");self.initTimezoneSelector()})(this.jQuery);