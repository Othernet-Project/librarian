// Generated by CoffeeScript 1.10.0
(function(window, $, template) {
  var cacheContainer, hFree, initPlugin, messageTemplateId, msgFree, section, usedPercentage;
  section = $('#dashboard-ondd');
  cacheContainer = null;
  messageTemplateId = "onddCacheStatusMessage";
  usedPercentage = function(data) {
    return (data.cache.used / data.cache.total * 100).toFixed(2);
  };
  hFree = function(data) {
    return dahelpers.hsize(data.cache.free);
  };
  msgFree = function(data) {
    return templates[messageTemplateId].replace('{percentage}', data.cache.usedPercentage).replace('{amount}', data.cache.hFree);
  };
  initPlugin = function(e) {
    var provider;
    $("#" + messageTemplateId).loadTemplate();
    provider = window.state.provider('ondd');
    provider.postprocessor(usedPercentage, ['cache', 'usedPercentage']);
    provider.postprocessor(hFree, ['cache', 'hFree']);
    return provider.postprocessor(msgFree, ['cache', 'msgFree']);
  };
  return section.on('dashboard-plugin-loaded', initPlugin);
})(this, this.jQuery, this.template);
