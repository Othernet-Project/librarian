// Generated by CoffeeScript 1.10.0
(function(window, $, templates) {
  var errorMessage, onddForm, submitData, url;
  onddForm = $('#ondd-form');
  url = onddForm.attr('action');
  errorMessage = templates.onddSettingsError;
  submitData = function(data) {
    var res;
    res = $.post(url, data);
    res.done(function(data) {
      onddForm.html(data);
      return ($(window)).trigger('transponder-updated');
    });
    return res.fail(function() {
      return onddForm.prepend(errorMessage);
    });
  };
  return onddForm.on('submit', function(e) {
    var data;
    e.preventDefault();
    data = onddForm.serialize();
    return submitData(data);
  });
})(this, this.jQuery, this.templates);
